Found 1 pending jobs to process
Processing job 16f86f9e-1eda-4ad5-a143-967fc6b1b1d6 (#Job-4)
🚀 Starting indexing job 16f86f9e-1eda-4ad5-a143-967fc6b1b1d6
📝 Manual job: extracted 1 URLs
📋 Found 1 URLs to process
📊 Creating 1 URL submission records
✅ Created 1 URL submission records
🔄 Processing URL submissions for job 16f86f9e-1eda-4ad5-a143-967fc6b1b1d6
📈 Using 1 service accounts for load balancing
🎯 Processing 1 URL submissions
🔑 Getting access token for service account: 032d040b-da1e-40c4-bc40-8f756dc8c06a
🔍 DEBUG - Service Account Data:
- ID: 032d040b-da1e-40c4-bc40-8f756dc8c06a
- Name: indexnow
- Email: indexnow@cetta-n8n.iam.gserviceaccount.com
- Is Active: true
- Encrypted Credentials Length: 4641
- Encrypted Credentials Preview: 9eee7306764380cf823b36e5b3dcbf3c:c0437f9ea78613be22498f6ece8d830fa5791ae937591f4731763f430c9d02c049e...
- Current ENCRYPTION_KEY: 11a28471...
- Encrypted Format Parts: 2
- IV Length (hex): 32
- Encrypted Data Length (hex): 4608
- IV (first 16 chars): 9eee7306764380cf
- Encrypted Data (first 32 chars): c0437f9ea78613be22498f6ece8d830f
🔄 Generating new access token
🔄 Starting generateNewAccessToken process...
🔐 DEBUG - About to decrypt credentials...
- Encrypted data to decrypt: 9eee7306764380cf823b36e5b3dcbf3c:c0437f9ea78613be22498f6ece8d830fa5791ae937591f4731763f430c9d02c049e...
🔓 DEBUG - Starting decryption process...
- Input encrypted text length: 4641
- Input preview: 9eee7306764380cf823b36e5b3dcbf3c:c0437f9ea78613be22498f6ece8d830fa5791ae937591f4731763f430c9d02c049e...
- Encryption key length: 32
- Encryption key preview: 3131613238343731...
- Split parts count: 2
- IV part (hex): 9eee7306764380cf823b36e5b3dcbf3c
- Encrypted data part length: 4608
- Encrypted data preview: c0437f9ea78613be22498f6ece8d830fa5791ae937591f4731...
- IV buffer length: 16
- IV buffer: 9eee7306764380cf823b36e5b3dcbf3c
- Creating decipher with algorithm: aes-256-cbc
- Updating decipher...
- First update result length: 2154
- Finalizing decipher...
❌ Decryption error details: Error: error:1C800064:Provider routines::bad decrypt
    at EncryptionService.decrypt (lib/encryption.ts:82:28)
    at GoogleAuthService.generateNewAccessToken (lib/google-auth-service.ts:186:44)
    at GoogleAuthService.getAccessToken (lib/google-auth-service.ts:100:34)
    at async GoogleIndexingProcessor.processUrlSubmissionsWithGoogleAPI (lib/google-indexing-processor.ts:291:30)
    at async GoogleIndexingProcessor.processIndexingJob (lib/google-indexing-processor.ts:97:6)
    at async JobMonitor.checkAndProcessJobs (lib/job-monitor.ts:104:25)
    at async cronJob.node_cron__WEBPACK_IMPORTED_MODULE_0__.schedule.timezone (lib/job-monitor.ts:46:6)
  80 |       
  81 |       console.log('- Finalizing decipher...');
> 82 |       decrypted += decipher.final('utf8');
     |                            ^
  83 |       console.log('- Final decrypted length:', decrypted.length);
  84 |       console.log('- Decrypted preview:', decrypted.substring(0, 100) + '...');
  85 |        {
  library: 'Provider routines',
  reason: 'bad decrypt',
  code: 'ERR_OSSL_BAD_DECRYPT'
}
- Error name: Error
- Error message: error:1C800064:Provider routines::bad decrypt
- Error stack: Error: error:1C800064:Provider routines::bad decrypt
    at Decipheriv.final (node:internal/crypto/cipher:193:29)
    at EncryptionService.decrypt (webpack-internal:///(rsc)/./lib/encryption.ts:74:35)
    at GoogleAuthService.generateNewAccessToken (webpack-internal:///(rsc)/./lib/google-auth-service.ts:136:94)
    at GoogleAuthService.getAccessToken (webpack-internal:///(rsc)/./lib/google-auth-service.ts:71:41)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async GoogleIndexingProcessor.processUrlSubmissionsWithGoogleAPI (webpack-internal:///(rsc)/./lib/google-indexing-processor.ts:224:41)
    at async GoogleIndexingProcessor.processIndexingJob (webpack-internal:///(rsc)/./lib/google-indexing-processor.ts:72:13)
    at async JobMonitor.checkAndProcessJobs (webpack-internal:///(rsc)/./lib/job-monitor.ts:85:36)
    at async cronJob.node_cron__WEBPACK_IMPORTED_MODULE_0__.schedule.timezone (webpack-internal:///(rsc)/./lib/job-monitor.ts:45:13)
    at async Timeout._onTimeout (/home/runner/workspace/node_modules/node-cron/dist/cjs/scheduler/runner.js:70:44)
❌ DEBUG - Decryption failed: Error: Failed to decrypt data
    at EncryptionService.decrypt (lib/encryption.ts:92:12)
    at GoogleAuthService.generateNewAccessToken (lib/google-auth-service.ts:186:44)
    at GoogleAuthService.getAccessToken (lib/google-auth-service.ts:100:34)
    at async GoogleIndexingProcessor.processUrlSubmissionsWithGoogleAPI (lib/google-indexing-processor.ts:291:30)
    at async GoogleIndexingProcessor.processIndexingJob (lib/google-indexing-processor.ts:97:6)
    at async JobMonitor.checkAndProcessJobs (lib/job-monitor.ts:104:25)
    at async cronJob.node_cron__WEBPACK_IMPORTED_MODULE_0__.schedule.timezone (lib/job-monitor.ts:46:6)
  90 |       console.error('- Error message:', error instanceof Error ? error.message : String(error));
  91 |       console.error('- Error stack:', error instanceof Error ? error.stack : 'No stack');
> 92 |       throw new Error('Failed to decrypt data');
     |            ^
  93 |     }
  94 |   }
  95 |
- Error type: Error
- Error message: Failed to decrypt data
Error generating access token: Error: Failed to decrypt data
    at EncryptionService.decrypt (lib/encryption.ts:92:12)
    at GoogleAuthService.generateNewAccessToken (lib/google-auth-service.ts:186:44)
    at GoogleAuthService.getAccessToken (lib/google-auth-service.ts:100:34)
    at async GoogleIndexingProcessor.processUrlSubmissionsWithGoogleAPI (lib/google-indexing-processor.ts:291:30)
    at async GoogleIndexingProcessor.processIndexingJob (lib/google-indexing-processor.ts:97:6)
    at async JobMonitor.checkAndProcessJobs (lib/job-monitor.ts:104:25)
    at async cronJob.node_cron__WEBPACK_IMPORTED_MODULE_0__.schedule.timezone (lib/job-monitor.ts:46:6)
  90 |       console.error('- Error message:', error instanceof Error ? error.message : String(error));
  91 |       console.error('- Error stack:', error instanceof Error ? error.stack : 'No stack');
> 92 |       throw new Error('Failed to decrypt data');
     |            ^
  93 |     }
  94 |   }
  95 |
❌ Failed to index https://nexjob.tech/: Error: Failed to obtain Google API access token
    at GoogleIndexingProcessor.processUrlSubmissionsWithGoogleAPI (lib/google-indexing-processor.ts:293:18)
    at async GoogleIndexingProcessor.processIndexingJob (lib/google-indexing-processor.ts:97:6)
    at async JobMonitor.checkAndProcessJobs (lib/job-monitor.ts:104:25)
    at async cronJob.node_cron__WEBPACK_IMPORTED_MODULE_0__.schedule.timezone (lib/job-monitor.ts:46:6)
  291 |           const accessToken = await this.googleAuth.getAccessToken(serviceAccount.id);
  292 |           if (!accessToken) {
> 293 |             throw new Error('Failed to obtain Google API access token');
      |                  ^
  294 |           }
  295 |
  296 |           // Submit URL to Google's Indexing API
📊 Job processing complete: 0 successful, 1 failed out of 1 total